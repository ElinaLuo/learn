import React from 'react';
import PropTypes from 'prop-types';
import '../style/index.less';

export const PRIORITY_ENUM = {
  HIGH: 'HIGH',
  LOW: 'LOW',
};

export default function ImageCover(props) {
  const { url, className, priority } = props;
  let displayUrl = url;
  if (url && url.indexOf('http') < 0) {
    displayUrl = `https:${url}`;
  }
  return (
    <div className={`seed-img-cover-wrap ${className}`}>
      {priority === PRIORITY_ENUM.HIGH && (
        <img className="seed-img-src" src={displayUrl} alt="" />
      )}
      {priority === PRIORITY_ENUM.LOW && (
        <div
          className="seed-img-bg"
          style={{
            backgroundImage: `url(${displayUrl})`,
          }}
        />
      )}
    </div>
  );
}

ImageCover.propTypes = {
  url: PropTypes.string,
  priority: PropTypes.oneOf(Object.values(PRIORITY_ENUM)),
  className: PropTypes.string,
};

ImageCover.defaultProps = {
  url: '',
  priority: PRIORITY_ENUM.HIGH,
  className: '',
};
