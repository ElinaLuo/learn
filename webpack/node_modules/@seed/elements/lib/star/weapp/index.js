"use strict";

var _utils = require("./utils");

Component({
  properties: {
    star: {
      type: Number,
      value: 0
    },
    score: {
      type: String,
      value: ''
    },
    classname: {
      type: String,
      value: ''
    },
    starStyle: {
      type: Object,
      value: {
        width: '24rpx',
        height: '24rpx',
        marginRight: '3rpx'
      }
    },
    textStyle: {
      type: Object,
      value: {
        fontSize: '26rpx',
        marginLeft: '6rpx'
      }
    },
    canClick: {
      type: Boolean,
      value: false
    }
  },
  data: {},
  ready: function ready() {
    var star = this.data.star;

    var _star = (0, _utils.handleScore)(star) && (0, _utils.handleScore)(star).toString().replace('.', '_') || 0;

    this.setData({
      star: _star
    });
  },
  methods: {
    onTapStar: function onTapStar(e) {
      var canClick = this.data.canClick;
      var index = e.currentTarget.dataset.index;

      if (canClick) {
        this.setData({
          star: index
        });
        this.triggerEvent('tapStar', {
          star: index
        });
      }
    }
  }
});