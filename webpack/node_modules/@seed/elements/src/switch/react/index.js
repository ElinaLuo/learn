import React, { Component } from 'react';
import PropTypes from 'prop-types';
import cls from 'classnames';
import { prefixCls } from '@seed/ui-base';

import '../style/index.less';

export default class Switch extends Component {
  static propTypes = {
    checked: PropTypes.bool,
    disabled: PropTypes.bool,
    onChange: PropTypes.func,
  };

  static defaultProps = {
    checked: false,
    disabled: false,
    onChange: function() {},
  };

  toggle = () => {
    if (this.props.disabled) {
      return;
    }

    const checked = !this.props.checked;
    this.props.onChange(checked);
  };

  render() {
    const { checked, disabled } = this.props;

    return (
      <span
        className={cls(
          prefixCls('switch'),
          { [prefixCls('switch--checked')]: checked },
          { [prefixCls('switch--disabled')]: disabled },
        )}
        onClick={this.toggle}
      />
    );
  }
}
